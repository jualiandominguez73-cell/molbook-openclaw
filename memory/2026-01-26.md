# January 26, 2026

## MeshGuard — Massive Infrastructure Day

### New Pages (meshguard.app)
- /terms — Terms of Service
- /privacy — Privacy Policy (GDPR-compliant)
- /security — Security practices + /.well-known/security.txt
- /changelog — Timeline of releases
- /roadmap — 4-phase board (31 items)
- /pricing — Stripe checkout integration, monthly/annual toggle, FAQ
- Desktop footer with all links (hidden on mobile)

### New Services
- **status.meshguard.app** — Gatus on DO droplet, monitors 11 endpoints
- **Professional email** — PurelyMail: support@, security@, contact@ @meshguard.app
  - DNS: MX, SPF, DKIM (3 keys), DMARC all configured via Vercel DNS
  - Passwords stored in 1Password (MeshGuard vault)
- **Onboarding emails** — Welcome + Getting Started templates via nodemailer/SMTP
- **Vercel Analytics + Speed Insights** — on marketing site
- **Stripe billing** — Products created (Starter $2K/mo, Professional $10K/mo, both with annual 20% discount)
  - Gateway: /billing/checkout, /billing/portal, /billing/plans, /billing/webhook
  - Stripe account: WithCandor LLC, key in 1Password

### Content Created
- **Learning Center** — 3 new articles (22 total):
  - Governing Clawdbot Agents
  - MeshGuard for Small Business
  - Personal vs Enterprise Governance
- **Technical Docs** — 5 new pages (24 total):
  - Clawdbot Integration
  - Billing & Subscriptions
  - Self-Hosted Deployment (enterprise/license only)
  - Billing API Reference
  - JavaScript SDK Reference

### GitHub Organization
- Created github.com/meshguard org
- Transferred 8 repos (meshguard, meshguard-app, learn, docs, python, js, examples, homebrew)
- All code references updated from dbhurley/ to meshguard/
- Vercel auto-deploy reconnected
- Gateway + marketing site repos set to PRIVATE (proprietary)
- SDKs, docs, learn, examples stay public

### Packages Updated
- npm: meshguard@0.1.1 (org links)
- PyPI: meshguard 0.1.1 (org links, token in 1Password)
- Homebrew: formula updated, repo transferred

### Social
- Twitter: @MeshGuardApp (already existed)
- LinkedIn: linkedin.com/company/meshguard/ (David created)
- Links added to marketing site footer + learn + docs headers

### Scout Updated
- Knows about all pages: pricing, billing, status, docs, changelog, roadmap, contact
- Handles questions about billing/upgrade/cancel, status/uptime, docs/SDK, changelog, roadmap, contact/sales

### Key Decisions
- Self-hosted = Professional/Enterprise only, requires license agreement
- Code is NOT open source — private repos for gateway + marketing
- Email forwarding → PurelyMail (full send/receive, not just forwarding)
- Status page on droplet (separate from Vercel for independence)

### 1Password (MeshGuard Vault)
- PurelyMail support@meshguard.app
- PurelyMail security@meshguard.app
- PurelyMail contact@meshguard.app
- PyPI API Token
- Stripe Live API Key (WithCandor)

## MSTeams Fix — Opie Down Since ~2 PM

### Problem
- Opie wasn't responding to Teams messages (David + Hayley)
- Messages from Azure Bot Service were reaching the webhook (200 OK) but handler was crashing silently

### Root Cause
- `resolveControlCommandGate` function added to `src/plugin-sdk/index.ts` in source
- But `dist/` wasn't rebuilt — compiled JS was stale
- msteams extension imported it via symlink (`node_modules/clawdbot → ../../..`) and got `undefined`
- Error: `TypeError: (0 , _pluginSdk.resolveControlCommandGate) is not a function`
- Gateway logged this in `gateway.err.log` but not `gateway.log` — hard to spot

### Fix
1. `npm install --legacy-peer-deps` (new deps needed)
2. `npm run build` (rebuild dist/)
3. Fixed `agents.defaults.contextPruning.mode` from `"adaptive"` → `"cache-ttl"` (schema changed)
4. Restarted gateway

### Prevention
- Updated `personal-scripts/sync-skills.sh` to run `npm run build` after upstream merges
- This ensures `dist/` stays in sync with source when new plugin SDK exports are added

### Also Fixed
- Restarted ngrok (was running 12 days since Jan 14, now fresh)

### Droplet (157.230.224.227)
- Gateway: Docker container on port 3100, nginx proxy
- Gatus: Docker container on port 3200, nginx proxy
- SSH was flaky (needed restart) but recovered
- Env vars: SMTP + Stripe configured in Docker run command
- Nginx: /admin, /signup, /proxy, /health, /billing all proxied to gateway
